<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>deepstream.io | Video-Chat with deepstream and webrtc</title>

	

	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="keywords" content="deepstream, deepstream.io, streaming, realtime, server, socket" />
	<meta name="description" content="An introduction and live example into deepstream&#x27;s WebRTC functionality" />
	<meta name="author" content="Wolfram Hempel" />
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" type="text/css" href="../assets/css/navigation.css" />
	<link rel="stylesheet" type="text/css" href="../assets/css/screen.css" />
	<link rel="stylesheet" type="text/css" href="../assets/css/api.css" />
	<script type="text/javascript">
	document.createElement( 'header' );
	document.createElement( 'nav' );
	</script>
	<script type="text/javascript" src="../assets/js/jquery.js"></script>
	<script type="text/javascript" src="../assets/js/menu.js"></script>
	<script type="text/javascript" src="../assets/js/prism.js"></script>

	<link href='http://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Quicksand:300,400,700' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="../assets/css/prism.css" />
</head>

<body class="category_tutorials ">
	<div class="mobile-menu">
		<div class="nav mobile-nav">
			<ul>
				<li ><a href="..">Home</a></li>
				<li ><a href="../download/">Downloads</a></li>
				<li class="active"><a href="../tutorials/getting-started.html">Tutorials</a></li>
				<li ><a href="../docs/deepstream.html">Documentation</a></li>
				<li ><a href="../blog/">Blog</a></li>
				<li ><a href="../info/">Info</a></li>
			</ul>		</div>
	</div>

	<div id="outer-wrapper">
		<div id="header" class="compact-header">
			<div class="header-tiny-logo">
				<h1><a href="..">deepstream.io - a scalable server for realtime web apps</a></h1>
			</div>
			<div class="nav desktop-nav">
				<ul>
					<li ><a href="..">Home</a></li>
					<li ><a href="../download/">Downloads</a></li>
					<li class="active"><a href="../tutorials/getting-started.html">Tutorials</a></li>
					<li ><a href="../docs/deepstream.html">Documentation</a></li>
					<li ><a href="../blog/">Blog</a></li>
					<li ><a href="../info/">Info</a></li>
				</ul>			</div>
			<span class="menu-button menu-icon">
				<i class="fa fa-bars"></i>
			</span>
		</div>
		<div id="wrapper" class="main">
			<ul id="subnav">
	<li class="head first">General</li>
	<li >
		<a href="getting-started.html">Getting started</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>
	<li >
		<a href="authentication.html">Authentication</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>
	<li >
		<a href="permissioning.html">Permissioning</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>

	<li class="head">Server</li>
	<li >
		<a href="connectors-and-deployment.html">Connectors and Deployment</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>
	<li >
		<a href="data-provider.html">Building a data-provider</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>
	<li >
		<a href="searching-and-querying.html">Searching & Querying</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>
	<li >
		<a href="transforming-data.html">Transforming Data</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>
	<li >
		<a href="writing-storage-cache-connector.html">Writing storage and cache connectors</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>
	<li >
		<a href="writing-messaging-connector.html">Writing a messaging connector</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>

	<li class="head">Client</li>
	<li >
		<a href="node-js-client.html">Using the client in NodeJS</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>

	<li >
		<a href="records.html">Records</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>

	<li >
		<a href="lists.html">Lists</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>

	<li >
		<a href="events-and-rpcs.html">Events & RPCs</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>

	<li >
		<a href="simple-app-using-ko.html">Simple App using Knockout</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>

	<li >
		<a href="simple-app-using-react.html">Simple App using React</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>

	<li >
		<a href="simple-app-using-angular.html">Simple App using Angular</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>

	<li class="active">
		<a href="webrtc.html">WebRTC</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>

	<li >
		<a href="webrtc-tips.html">WebRTC Tips</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>
</ul>

			<div id="content">
				<p><link href="../assets/css/webrtc.css" type="text/css" rel="stylesheet" /></p><p><script type="text/javascript" src="https://rawgit.com/webrtc/adapter/master/adapter.js"></script></p><p><script type="text/javascript" src="https://rawgit.com/deepstreamIO/deepstream.io-client-js/master/dist/deepstream.min.js"></script></p><p><script type="text/javascript" src="../assets/js/webrtc.js"></script></p><h1>Video-Chat with Deepstream and WebRTC</h1><p>Web Real Time Communication is a great standard that makes it possible to establish video, audio and data-streams directly between two browsers. 
But, there’s a catch: WebRTC requires you to dive deeply into the mechanics of connection establishment, exchange offers, answers and ICE candidates - and you still need a server to establish the call.</p><p>We’ve baked all this directly into deepstream and boiled it down to two concepts: A realtime phonebook that clients can register with and subscribe to – and the ability to call anyone in it.</p><p>Combine this with other deepstream features such as permissioning, records or data-transforms and you can build an amazing realtime app without worrying too much about implementation details.</p><h3>Demo</h3><div class="webrtc-example">
    <div class="error-screen">
        <div class="inner">
            <div class="fa fa-warning"></div>
            <div class="msg">An error occured: <b>DeviceNotFoundError</b></div>
        </div>
    </div>
    <div class="welcome-screen">
        <div class="header">
            <span class="title">
                Connect to 8<br/>Random People
            </span>
        </div>
        <span class="tshirt"></span>
        <div class="body">
            <span class="disclaimer">
                <i class="fa fa-eye highlight"></i>
                <span class="highlight">Disclaimer:</span>
                <span class="disclaimer-text">You are about to video chat with other deepstream enthusiasts... so please be nice – and put a shirt on!</span>
            </span>
            <span class="btn btn-start" onclick="start();">
                <span>OK I get it</span>
            </span>
            <div class="note">
                <span class="asterix">*</span>
                <span>also we are totally not responsible for anything</span>
            </div>
        </div>
    </div>
    <div class="conference">
        <video class="videofeed remotevideo" autoplay></video>
        <video class="videofeed remotevideo" autoplay></video>
        <video class="videofeed remotevideo" autoplay></video>
        <video class="videofeed remotevideo" autoplay></video>
        <video class="videofeed remotevideo" autoplay></video>
        <video class="videofeed remotevideo" autoplay></video>
        <video class="videofeed remotevideo" autoplay></video>
        <video class="videofeed localvideo" muted autoplay></video>
        <video class="videofeed remotevideo" autoplay></video> 
    </div>
    <div class="buttons">
            <!--<span class="btn change-room" onclick="changeRoom();">
                <i class="fa fa-share"></i>
                <i class="fa fa-spinner fa-spin"></i>
                <span>Change Room</span>
            </span> -->
            <span class="btn" onclick="stopApp();">
                <span>Exit</span>
            </span>
    </div>
</div>

<h3>How does it work?</h3><p>Clients can register themselves as callees</p><pre><code class="lang-javascript">ds.webrtc.registerCallee( &#39;Peter Venkman&#39;, function( call, metaData ){
    if( metaData.callerName === &#39;Walter Peck&#39; ) {
        call.decline( &#39;Nope, not interested.&#39; );
    } else {
        call.accept( localStream );
    }

    call.on( &#39;established&#39;, function( remoteStream ){
        myVideo.src = URL.createObjectURL( remoteStream );
    });
});
</code></pre>
<p>Other clients can subscribe to updates to the list of callees</p><pre><code class="lang-javascript">ds.webrtc.listenForCallees(function( callees ){
    // render list of callees
});
</code></pre>
<p>and call each other</p><pre><code class="lang-javascript">var metaData = { callerName: &#39;Raymond Stantz&#39; };
var call = ds.webrtc.makeCall( &#39;Peter Venkman&#39;, metaData, localStream );

call.on( &#39;established&#39;, function( remoteStream ){
    myVideo.src = URL.createObjectURL( remoteStream );
});

call.on( &#39;declined&#39;, function( reason ){
    console.log( &#39;Call declined because of &#39; + reason );
});
</code></pre>
<h3>Try it out</h3><p>Please find the documentation <a href="../docs/client.webrtc.html">here</a> and have a look at our examples.</p><div class="two-examples">
    <a href="https://github.com/deepstreamIO/ds-demo-webtrc/tree/master/simple-example">
        <img width="200" height="125" alt="WebRTC simple example" src="../assets/images/webrtc-simple-example.png" />
        <label>Simple Example</label>
    </a>
    <a href="https://github.com/deepstreamIO/ds-demo-webtrc/tree/master/complex-example">
        <img width="200" height="125" alt="WebRTC complex example" src="../assets/images/webrtc-complex-example.png" />
        <label>More feature-rich example</label>
    </a>
</div>

<p>If you haven&#39;t used deepstream before, it might be worth trying the <a href="getting-started.html">getting started tutorial</a>.</p>
			</div>
		</div>
		<script type="text/javascript" src="../assets/js/docs.js"></script>
	</div>
	<div id="footer">
		<ul class="footer-items">

			<li class="footer-right">
				<ul class="social">
					<li class="twitter">
						<a href="https://twitter.com/deepstreamIO">
							<i class="fa fa-twitter"></i>  Twitter
						</a>
					</li>
					<li class="github">
						<a href="https://github.com/deepstreamIO">
							<i class="fa fa-github"></i>  Github
						</a>
					</li>
					<a href="https://www.facebook.com/deepstreamIO/">
						<i class="fa fa-facebook"></i>  Facebook
					</a>
					<li class="stack-overflow">
						<a href="http://stackoverflow.com/questions/tagged/deepstream.io">
							<i class="fa fa-stack-overflow"></i>  Stack Overflow
						</a>
					</li>
					<li>
						<a href="https://deepstream-slack.herokuapp.com/">
							<i class="fa fa-slack"></i>  Slack
						</a>
					</li>
				</ul>
			</li>

			<li class="footer-middle">
				<h4>Browse</h4>
				<ul>
					<li ><a href="..">Home</a></li>
					<li ><a href="../download/">Downloads</a></li>
					<li class="active"><a href="../tutorials/getting-started.html">Tutorials</a></li>
					<li ><a href="../docs/deepstream.html">Documentation</a></li>
					<li ><a href="../blog/">Blog</a></li>
					<li ><a href="../info/">Info</a></li>
				</ul>			</li>

			<li class="footer-left">
				<h4>Contact the team</h4>
				<p>
					Email us <a href="mailto:info@deepstream.io">info@deepstream.io</a>.<br><br>
				</p>

				<h4>Star this project on github!</h4>
				<p>
					<a class="github-button" href="https://github.com/deepstreamIO/deepstream.io" data-icon="octicon-star" data-style="mega" data-count-href="/deepstreamIO/deepstream.io/stargazers" data-count-api="/repos/deepstreamIO/deepstream.io#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star deepstreamIO/deepstream.io on GitHub">Star</a>
				</p>
			</li>

		</ul>
	</div>


	<script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>
</body>
</html>
